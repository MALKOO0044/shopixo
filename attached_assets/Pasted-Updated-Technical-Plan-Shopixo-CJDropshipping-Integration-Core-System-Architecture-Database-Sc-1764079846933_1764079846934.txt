Updated Technical Plan - Shopixo √ó CJDropshipping Integration
Core System Architecture
Database Schema (Already Created ‚úì)

user_roles - Admin access control
profiles - User profiles
pricing_rules - KSA-specific pricing formulas
import_batches - Product search sessions
product_queue - Products awaiting approval/import
product_variants - SKU variants with stock/pricing
import_logs - Audit trail
Phase 1: Admin Authentication & Dashboard
Features:

Secure admin login with role-based access
Main dashboard with quick stats
Navigation to all modules
Phase 2: Product Discovery System
Smart Search Module:

Category/keyword search via CJDropshipping API
Advanced filters:
Price range (min/max)
Minimum rating threshold
Maximum shipping time
Stock availability
Search results saved to import_batches
Products populate product_queue with status: "pending"
No auto-publishing - Everything requires manual approval

Phase 3: KSA Pricing Engine
Pricing Formula:

Base Cost = CJ Product Price + DDP Shipping to KSA
+ VAT (15%)
+ Payment Gateway Fee (2.9%)
+ Your Profit Margin (configurable %)
= Final Price (rounded to: 49/79/99/149/199/249/299/etc.)
Pricing Rules Table:

Configurable margin percentages by category
Minimum margin protection (e.g., minimum 35 SAR profit)
Maximum price caps
Smart rounding rules
Products below minimum margin flagged as "needs review"
Phase 4: Review & Approval Queue
Product Review Interface:

View all discovered products in batches
Display: Images, Title, CJ SKU, Base Cost, Final Price, Rating, Stock
Actions per product:
‚úì Approve - moves to import queue
‚úó Reject - removes from queue
‚úèÔ∏è Edit - adjust title/price/description
üìù Add Notes - internal notes
Bulk Actions:

Select multiple products
Approve/reject in one click
Export to CSV for review
Phase 5: Import to Shopixo
API Integration Points Needed:

Your Shopixo product creation API endpoint
We'll send: Title, Description, Images, Variants (color/size/SKU), Prices, Stock, Category
Unique SKU generation (e.g., SPX-{category}-{sequential})
Duplicate detection by CJ SKU to prevent re-imports
Import Process:

Admin clicks "Import Approved Products"
System processes each product:
Fetches full variant details from CJ
Applies KSA pricing to each variant
Uploads images
Creates unique Shopixo SKU
Calls your Shopixo API
Marks as "imported" or "failed" with error message
Phase 6: Daily Monitoring System
Automated Daily Checks:

Runs every morning at 8 AM KSA time
For each imported product:
Check CJ API for price changes
Check shipping cost changes
Check stock levels
Check if images/description updated
Daily Summary Dashboard:

List of products with changes
Old Price ‚Üí New Price
Old Stock ‚Üí New Stock
Visual diff for image/description changes
Two buttons:
‚úì Apply All Updates
üîç Review Individual Changes
Phase 7: Inventory Management
Stock Monitoring:

Real-time stock sync from CJ
Auto-hide products with 0 stock on Shopixo
Low stock alerts (configurable threshold, e.g., < 10 units)
Email/notification when stock critical
Stock Rules:

Set safety stock buffer (e.g., show stock - 5)
Auto-restock alerts
Out-of-stock recovery notifications
Phase 8: Arabic/RTL Support
Localization:

Full RTL layout for admin dashboard
Arabic UI labels and messages
Product descriptions support Arabic
Right-aligned text fields
Arabic date/number formatting
Product Data:

Option to add Arabic translations for titles/descriptions
Display both English + Arabic on product pages
Arabic delivery time estimates
Phase 9: Monitoring & Alerts
System Health:

CJDropshipping API status check
Response time monitoring
Daily import success rate
Failed imports log with retry option
Alert System:

Email notifications for:
Import failures
Price changes requiring approval
Low stock warnings
API connection issues
Simple error messages (no technical jargon)
Acceptance Criteria Implementation
1. Supplier Diagnostics:

Dashboard widget showing CJ API status (green/red)
Last successful connection timestamp
Average response time
Test connection button
2. Finder with Filters:

Search never publishes directly
All results go to review queue first
Filters functional: price, rating, shipping time, stock
Batch naming for organization
3. Unique Product Import:

Duplicate detection by CJ SKU
Warning if SKU already imported
Unique Shopixo SKU generation
Import history tracking
4. KSA Pricing Model:

Formula includes: DDP shipping + VAT + payment fees + margin
Smart rounding to 49/79/99/149/199/etc.
Minimum margin enforcement
Price preview before import
5. Daily Update Approval:

Morning summary of changes
Simple approve/reject interface
One-click apply all
Individual item review option
What We Need from You
Shopixo API Details:

Product creation endpoint URL
Authentication method (API key/token)
Required fields format (JSON structure)
Variant/SKU structure
Image upload method
Stock update endpoint
Product hide/unhide endpoint
CJDropshipping API:

API key (we'll request securely after confirmation)
Timeline Estimate
Phase 1-2: Admin auth + Product discovery (2 days)
Phase 3-4: KSA pricing + Review queue (2 days)
Phase 5: Shopixo integration (1 day after API details)
Phase 6-7: Daily monitoring + Inventory (1 day)
Phase 8-9: Arabic/RTL + Alerts (1 day)
Total: ~7 days of focused development